<!DOCTYPE html>
<html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Chapter 2 Version control with git and GitHub | endeav</title>
<meta name="author" content="Robin Genuer üåê &amp; Boris Hejblum üåê">
<meta name="description" content="We are interested here in the solutions offered by RStudio and GitHub for hosting and version control of projects. This allows to monitor changes history, to help collaborative development and to...">
<meta name="generator" content="bookdown 0.45 with bs4_book()">
<meta property="og:title" content="Chapter 2 Version control with git and GitHub | endeav">
<meta property="og:type" content="book">
<meta property="og:description" content="We are interested here in the solutions offered by RStudio and GitHub for hosting and version control of projects. This allows to monitor changes history, to help collaborative development and to...">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Chapter 2 Version control with git and GitHub | endeav">
<meta name="twitter:description" content="We are interested here in the solutions offered by RStudio and GitHub for hosting and version control of projects. This allows to monitor changes history, to help collaborative development and to...">
<!-- JS --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/fuse.js/6.4.6/fuse.js" integrity="sha512-zv6Ywkjyktsohkbp9bb45V6tEMoWhzFzXis+LrMehmJZZSys19Yxf1dopHx7WzIKxr5tK2dVcYmaCk2uqdjF4A==" crossorigin="anonymous"></script><script src="https://kit.fontawesome.com/6ecbd6c532.js" crossorigin="anonymous"></script><script src="libs/jquery-3.7.1/jquery.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="libs/bootstrap-4.6.0/bootstrap.min.css" rel="stylesheet">
<script src="libs/bootstrap-4.6.0/bootstrap.bundle.min.js"></script><script src="libs/bs3compat-0.9.0/transition.js"></script><script src="libs/bs3compat-0.9.0/tabs.js"></script><script src="libs/bs3compat-0.9.0/bs3compat.js"></script><link href="libs/bs4_book-1.0.0/bs4_book.css" rel="stylesheet">
<script src="libs/bs4_book-1.0.0/bs4_book.js"></script><link href="libs/htmltools-fill-0.5.8.1/fill.css" rel="stylesheet">
<script src="libs/htmlwidgets-1.6.4/htmlwidgets.js"></script><script src="libs/d3-3.5.6/d3.min.js"></script><link href="libs/profvis-0.3.6.9000/profvis.css" rel="stylesheet">
<script src="libs/profvis-0.3.6.9000/profvis.js"></script><script src="libs/profvis-0.3.6.9000/scroll.js"></script><link href="libs/highlight-11.10.0/textmate.css" rel="stylesheet">
<script src="libs/highlight-11.10.0/highlight.min.js"></script><script src="libs/profvis-binding-0.4.0/profvis.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/autocomplete.js/0.38.0/autocomplete.jquery.min.js" integrity="sha512-GU9ayf+66Xx2TmpxqJpliWbT5PiGYxpaG8rfnBEk1LL8l1KGkRShhngwdXK1UgqhAzWpZHSiYPc09/NwDQIGyg==" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mark.js/8.11.1/mark.min.js" integrity="sha512-5CYOlHXGh6QpOFA/TeTylKLWfB3ftPsde7AnmhuitiTX4K5SqCLBeKro6sPS8ilsz1Q4NRx3v8Ko2IBiszzdww==" crossorigin="anonymous"></script><!-- CSS --><style type="text/css">
    
    div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
  </style>
<link rel="stylesheet" href="style.css">
</head>
<body data-spy="scroll" data-target="#toc">

<div class="container-fluid">
<div class="row">
  <header class="col-sm-12 col-lg-3 sidebar sidebar-book"><a class="sr-only sr-only-focusable" href="#content">Skip to main content</a>

    <div class="d-flex align-items-start justify-content-between">
      <h1>
        <a href="index.html" title="&lt;em&gt;a course on code efficiency and software development with R&lt;/em&gt;">endeav<svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg></a>:
        <small class="text-muted"><em>a course on code efficiency and software development with R</em></small>
      </h1>
      <button class="btn btn-outline-primary d-lg-none ml-2 mt-1" type="button" data-toggle="collapse" data-target="#main-nav" aria-expanded="true" aria-controls="main-nav"><i class="fas fa-bars"></i><span class="sr-only">Show table of contents</span></button>
    </div>

    <div id="main-nav" class="collapse-lg">
      <form role="search">
        <input id="search" class="form-control" type="search" placeholder="Search" aria-label="Search">
</form>

      <nav aria-label="Table of contents"><h2>Table of contents</h2>
        <ul class="book-toc list-unstyled">
<li><a class="" href="index.html">Course syllabus</a></li>
<li><a class="" href="building-an-r-package.html"><span class="header-section-number">1</span> Building an R package</a></li>
<li><a class="active" href="version-control-with-git-and-github.html"><span class="header-section-number">2</span> Version control with git and GitHub</a></li>
<li><a class="" href="measuring-and-comparing-execution-times.html"><span class="header-section-number">3</span> Measuring and comparing execution times</a></li>
<li><a class="" href="profiling-the-code.html"><span class="header-section-number">4</span> Profiling the code</a></li>
<li><a class="" href="rcpp-or-how-to-easily-embed-c-code-into-a-package.html"><span class="header-section-number">5</span> Rcpp or how to easily embed C++ code into a  package</a></li>
<li><a class="" href="r-code-parallelization.html"><span class="header-section-number">6</span> R code Parallelization</a></li>
<li><a class="" href="take-home-message.html">Take-home message</a></li>
<li><a class="" href="further-reading.html">Further reading</a></li>
</ul>

        <div class="book-extra">
          
        </div>
      </nav>
</div>
  </header><main class="col-sm-12 col-md-9 col-lg-7" id="content"><div id="version-control-with-git-and-github" class="section level1" number="2">
<h1>
<span class="header-section-number">2</span> Version control with <code>git</code> and <em>GitHub</em><a class="anchor" aria-label="anchor" href="#version-control-with-git-and-github"><i class="fas fa-link"></i></a>
</h1>
<p>We are interested here in the solutions offered by <em>RStudio</em> and <em>GitHub</em> for hosting and version control of projects. This allows to monitor changes history, to help collaborative development and to facilitate continuous integration.</p>
<div id="principles-of-version-control" class="section level2" number="2.1">
<h2>
<span class="header-section-number">2.1</span> Principles of version control<a class="anchor" aria-label="anchor" href="#principles-of-version-control"><i class="fas fa-link"></i></a>
</h2>
<p>The principle of version control is to record the successive changes made to files (especially <code>.R</code> files in our case).</p>
<p><em>RStudio</em> offers 2 integrated solutions for version control:</p>
<ul>
<li><p><code>git</code></p></li>
<li><p><code>svn</code> (‚Äúsubversion‚Äù)</p></li>
</ul>
<div id="git" class="section level3" number="2.1.1">
<h3>
<span class="header-section-number">2.1.1</span> <code>git</code><a class="anchor" aria-label="anchor" href="#git"><i class="fas fa-link"></i></a>
</h3>
<p><code>git</code> is a version control software (i.e.¬†a tool that will record the history of successive changes to your code and allow you to share these changes with other people). <code>git</code> is a command line program, and it is not necessarily very intuitive to use.</p>
<p><code>git</code> works as follows: on a remote server (e.g.¬†in the cloud), an <strong>updated</strong> version of the code is available. At any time it is possible to access this version of the code online. Each contributor can download this last <strong>updated</strong> version (in an action called <em>pull</em>), before editing it locally. Once changes are made locally, the contributor can then update the online version of the code, so that his changes become available to everyone (in an action called <em>push</em>).</p>
<p><strong>NB:</strong> <code>git</code> was designed for lightweight files (such as text files) and is far from being optimized for heavy and/or compressed files (e.g.¬†<code>.RData</code> files).</p>
<div class="float">
<img src="endeavR_files/git_workflow.png" style="width:100.0%" alt="Artwork CC-BY Allison Horst"><div class="figcaption">Artwork CC-BY Allison Horst</div>
</div>
</div>
<div id="subversion" class="section level3" number="2.1.2">
<h3>
<span class="header-section-number">2.1.2</span> <code>subversion</code><a class="anchor" aria-label="anchor" href="#subversion"><i class="fas fa-link"></i></a>
</h3>
<p><code>subversion</code> is the other solution available in <em>RStudio</em>. It works in a similar way to git, but with less features that we won‚Äôt detail here (the major difference is that all contributors work simultaneously on the same version of the code).</p>
</div>
</div>
<div id="use-git-locally-within-rstudio" class="section level2" number="2.2">
<h2>
<span class="header-section-number">2.2</span> Use <code>git</code> locally within <em>RStudio</em><a class="anchor" aria-label="anchor" href="#use-git-locally-within-rstudio"><i class="fas fa-link"></i></a>
</h2>
<blockquote>
<p>üëâ <strong><em>Your turn !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>Start by enabling <code>git</code> from the ‚Äú<em>Git/SVN</em>‚Äù tab of ‚Äú<em>Project Options</em>‚Äù located in the ‚ÄúTools‚Äù menu and follow the instructions. You can also run <code><a href="https://usethis.r-lib.org/reference/use_git.html">usethis::use_git()</a></code> in the <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> console alternatively.</p></li>
<li>
<p>From the ‚Äú<em>Git</em>‚Äù tab that now appears next to the ‚Äú<em>Build</em>‚Äù tab, register the current state of your package by making your first commit:</p>
<ul>
<li><p>2a. Select the files to track (do not select the <code>.Rproj</code> file)</p></li>
<li><p>2b. write an informative message (for your collaborators ‚Äì this includes your future self)</p></li>
<li><p>2c. click on ‚ÄúCommit‚Äù</p></li>
<li>
<p>2d. if this is the first time you are using git on your computer, you might be prompted with an error that looks something like that:</p>
<pre><code>*** Please tell me who you are.

Run

git config --global user.email "you@example.com"
git config --global user.name "Your Name"</code></pre>
<p>To solve this, run the following command into the <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> console with <strong>your user.name</strong> and <strong>your email</strong> filled in: <code>usethis::use_git_config(user.name = "FirstName LastName", user.email = "your@email.com")</code></p>
</li>
</ul>
</li>
<li><p>Add a ‚Äú*.Rproj‚Äù line to the ‚Äú.gitignore‚Äù file and make a new commit</p></li>
<li><p>Visualize the changes and their history using the visualization tools ‚ÄúDiff‚Äù and ‚ÄúHistory‚Äù tools accessible from the ‚ÄúGit‚Äù tab</p></li>
</ol>
</blockquote>
<div class="float">
<img src="endeavR_files/github_fall.png" style="width:100.0%" alt="Artwork CC-BY Allison Horst"><div class="figcaption">Artwork CC-BY Allison Horst</div>
</div>
<div id="good-commit-practices" class="section level3" number="2.2.1">
<h3>
<span class="header-section-number">2.2.1</span> Good <em>commit</em> practices<a class="anchor" aria-label="anchor" href="#good-commit-practices"><i class="fas fa-link"></i></a>
</h3>
<p>Ideally, each commit should solve only one problem. It should fix it in its entirety (be <strong>complete</strong>), and contain only changes related to that very problem (be <strong>minimal</strong>). It is especially useful to write <strong>informative</strong> commit messages (be kind and help your collaborators, which includes your <strong>future self</strong>). You should also be concise, and describe the reasons for the changes rather than the the changes themselves (visible in the <em>Diff</em>).<br><strong>NB:</strong> it is sometimes difficult to follow these guidelines to the letter, and they are merely an ideal guide. They certainly should not prevent you from should from regularly making <em>commits</em>.</p>
<p>On the other hand, the temptation to have a <em>‚Äúclean‚Äù and tidy</em> change-history is natural, but it is a source of unnecessary problems. It contradicts the traceability goal of version control. Since code development is generally a complex, messy, and non-linear intellectual process, it is normal that the recording of changes reflects this path. In practice, your future self will be the first user of your change history, so the priority is to make it easier for you in the future when solving bugs or extending functionality.</p>
<div class="float">
<img src="endeavR_files/github_wickham_bryan_git_quote.png" style="width:100.0%" alt="Artwork CC-BY Allison Horst"><div class="figcaption">Artwork CC-BY Allison Horst</div>
</div>
</div>
</div>
<div id="github" class="section level2" number="2.3">
<h2>
<span class="header-section-number">2.3</span> <em>GitHub</em><a class="anchor" aria-label="anchor" href="#github"><i class="fas fa-link"></i></a>
</h2>
<p><a href="https://github.com/"><em>GitHub</em></a> is a website offering an online code hosting solution, and is based on <code>git</code>. There are many alternative websites and services (<a href="https://about.gitlab.com/"><em>GitLab</em></a>, <a href="https://bitbucket.org/"><em>Bitbucket</em></a>, ‚Ä¶) allowing to host code and also based on <code>git</code>. <em>GitHub</em> is very popular in the <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> community, and is relatively easy to use, even for a novice user.</p>
<p><strong>Advantages</strong> of using <em>GitHub</em>:</p>
<ul>
<li><p>a simple and user-friendly graphical interface to track the history of changes to your code</p></li>
<li><p>the latest development version of your code is available online and you can reference it (you can even reference a specific commit number to freeze a specific version of the code)</p></li>
<li><p>users have a clear and transparent channel to report bugs/difficulties</p></li>
<li><p>it greatly facilitates collaborative development</p></li>
</ul>
<div id="upload-ones-package-onto-github" class="section level3" number="2.3.1">
<h3>
<span class="header-section-number">2.3.1</span> Upload one‚Äôs package <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> onto <em>GitHub</em><a class="anchor" aria-label="anchor" href="#upload-ones-package-onto-github"><i class="fas fa-link"></i></a>
</h3>
<blockquote>
<p>üëâ <strong><em>Your turn !</em></strong></p>
<ol style="list-style-type: decimal">
<li>Go to <a href="https://github.com/">https://github.com/</a> and create a <em>GitHub</em> account (if you hesitate, a common convention is to use your <em>firstnamelastname</em> as username)</li>
<li>Follow the instructions from <a href="https://happygitwithr.com/connect-intro">chapters 9 and 10 in <em>Happy Git With R</em> by Jenny Brian</a> to store your <em>GitHub</em> authentication within <em>RStudio</em>. The general advice is to use:
<ul>
<li>
<strong><code>https</code></strong> and a <em>Private Access Token</em> with <code><a href="https://usethis.r-lib.org/reference/github-token.html">usethis::create_github_token()</a></code> if on <svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M0 93.7l183.6-25.3v177.4H0V93.7zm0 324.6l183.6 25.3V268.4H0v149.9zm203.8 28L448 480V268.4H203.8v177.9zm0-380.6v180.1H448V32L203.8 65.7z"></path></svg><code>Windows</code> or <svg aria-hidden="true" role="img" viewbox="0 0 384 512" style="height:1em;width:0.75em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M318.7 268.7c-.2-36.7 16.4-64.4 50-84.8-18.8-26.9-47.2-41.7-84.7-44.6-35.5-2.8-74.3 20.7-88.5 20.7-15 0-49.4-19.7-76.4-19.7C63.3 141.2 4 184.8 4 273.5q0 39.3 14.4 81.2c12.8 36.7 59 126.7 107.2 125.2 25.2-.6 43-17.9 75.8-17.9 31.8 0 48.3 17.9 76.4 17.9 48.6-.7 90.4-82.5 102.6-119.3-65.2-30.7-61.7-90-61.7-91.9zm-56.6-164.2c27.3-32.4 24.8-61.9 24-72.5-24.1 1.4-52 16.4-67.9 34.9-17.5 19.8-27.8 44.3-25.6 71.9 26.1 2 49.9-11.4 69.5-34.3z"></path></svg><code>MacOS</code> (‚û°Ô∏è see <a href="https://happygitwithr.com/https-pat">üåê <em>chapter 9</em></a>)</li>
<li>
<strong><code>ssh</code></strong> with a <em>pair of private and public keys</em> if on <svg aria-hidden="true" role="img" viewbox="0 0 448 512" style="height:1em;width:0.88em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M220.8 123.3c1 .5 1.8 1.7 3 1.7 1.1 0 2.8-.4 2.9-1.5.2-1.4-1.9-2.3-3.2-2.9-1.7-.7-3.9-1-5.5-.1-.4.2-.8.7-.6 1.1.3 1.3 2.3 1.1 3.4 1.7zm-21.9 1.7c1.2 0 2-1.2 3-1.7 1.1-.6 3.1-.4 3.5-1.6.2-.4-.2-.9-.6-1.1-1.6-.9-3.8-.6-5.5.1-1.3.6-3.4 1.5-3.2 2.9.1 1 1.8 1.5 2.8 1.4zM420 403.8c-3.6-4-5.3-11.6-7.2-19.7-1.8-8.1-3.9-16.8-10.5-22.4-1.3-1.1-2.6-2.1-4-2.9-1.3-.8-2.7-1.5-4.1-2 9.2-27.3 5.6-54.5-3.7-79.1-11.4-30.1-31.3-56.4-46.5-74.4-17.1-21.5-33.7-41.9-33.4-72C311.1 85.4 315.7.1 234.8 0 132.4-.2 158 103.4 156.9 135.2c-1.7 23.4-6.4 41.8-22.5 64.7-18.9 22.5-45.5 58.8-58.1 96.7-6 17.9-8.8 36.1-6.2 53.3-6.5 5.8-11.4 14.7-16.6 20.2-4.2 4.3-10.3 5.9-17 8.3s-14 6-18.5 14.5c-2.1 3.9-2.8 8.1-2.8 12.4 0 3.9.6 7.9 1.2 11.8 1.2 8.1 2.5 15.7.8 20.8-5.2 14.4-5.9 24.4-2.2 31.7 3.8 7.3 11.4 10.5 20.1 12.3 17.3 3.6 40.8 2.7 59.3 12.5 19.8 10.4 39.9 14.1 55.9 10.4 11.6-2.6 21.1-9.6 25.9-20.2 12.5-.1 26.3-5.4 48.3-6.6 14.9-1.2 33.6 5.3 55.1 4.1.6 2.3 1.4 4.6 2.5 6.7v.1c8.3 16.7 23.8 24.3 40.3 23 16.6-1.3 34.1-11 48.3-27.9 13.6-16.4 36-23.2 50.9-32.2 7.4-4.5 13.4-10.1 13.9-18.3.4-8.2-4.4-17.3-15.5-29.7zM223.7 87.3c9.8-22.2 34.2-21.8 44-.4 6.5 14.2 3.6 30.9-4.3 40.4-1.6-.8-5.9-2.6-12.6-4.9 1.1-1.2 3.1-2.7 3.9-4.6 4.8-11.8-.2-27-9.1-27.3-7.3-.5-13.9 10.8-11.8 23-4.1-2-9.4-3.5-13-4.4-1-6.9-.3-14.6 2.9-21.8zM183 75.8c10.1 0 20.8 14.2 19.1 33.5-3.5 1-7.1 2.5-10.2 4.6 1.2-8.9-3.3-20.1-9.6-19.6-8.4.7-9.8 21.2-1.8 28.1 1 .8 1.9-.2-5.9 5.5-15.6-14.6-10.5-52.1 8.4-52.1zm-13.6 60.7c6.2-4.6 13.6-10 14.1-10.5 4.7-4.4 13.5-14.2 27.9-14.2 7.1 0 15.6 2.3 25.9 8.9 6.3 4.1 11.3 4.4 22.6 9.3 8.4 3.5 13.7 9.7 10.5 18.2-2.6 7.1-11 14.4-22.7 18.1-11.1 3.6-19.8 16-38.2 14.9-3.9-.2-7-1-9.6-2.1-8-3.5-12.2-10.4-20-15-8.6-4.8-13.2-10.4-14.7-15.3-1.4-4.9 0-9 4.2-12.3zm3.3 334c-2.7 35.1-43.9 34.4-75.3 18-29.9-15.8-68.6-6.5-76.5-21.9-2.4-4.7-2.4-12.7 2.6-26.4v-.2c2.4-7.6.6-16-.6-23.9-1.2-7.8-1.8-15 .9-20 3.5-6.7 8.5-9.1 14.8-11.3 10.3-3.7 11.8-3.4 19.6-9.9 5.5-5.7 9.5-12.9 14.3-18 5.1-5.5 10-8.1 17.7-6.9 8.1 1.2 15.1 6.8 21.9 16l19.6 35.6c9.5 19.9 43.1 48.4 41 68.9zm-1.4-25.9c-4.1-6.6-9.6-13.6-14.4-19.6 7.1 0 14.2-2.2 16.7-8.9 2.3-6.2 0-14.9-7.4-24.9-13.5-18.2-38.3-32.5-38.3-32.5-13.5-8.4-21.1-18.7-24.6-29.9s-3-23.3-.3-35.2c5.2-22.9 18.6-45.2 27.2-59.2 2.3-1.7.8 3.2-8.7 20.8-8.5 16.1-24.4 53.3-2.6 82.4.6-20.7 5.5-41.8 13.8-61.5 12-27.4 37.3-74.9 39.3-112.7 1.1.8 4.6 3.2 6.2 4.1 4.6 2.7 8.1 6.7 12.6 10.3 12.4 10 28.5 9.2 42.4 1.2 6.2-3.5 11.2-7.5 15.9-9 9.9-3.1 17.8-8.6 22.3-15 7.7 30.4 25.7 74.3 37.2 95.7 6.1 11.4 18.3 35.5 23.6 64.6 3.3-.1 7 .4 10.9 1.4 13.8-35.7-11.7-74.2-23.3-84.9-4.7-4.6-4.9-6.6-2.6-6.5 12.6 11.2 29.2 33.7 35.2 59 2.8 11.6 3.3 23.7.4 35.7 16.4 6.8 35.9 17.9 30.7 34.8-2.2-.1-3.2 0-4.2 0 3.2-10.1-3.9-17.6-22.8-26.1-19.6-8.6-36-8.6-38.3 12.5-12.1 4.2-18.3 14.7-21.4 27.3-2.8 11.2-3.6 24.7-4.4 39.9-.5 7.7-3.6 18-6.8 29-32.1 22.9-76.7 32.9-114.3 7.2zm257.4-11.5c-.9 16.8-41.2 19.9-63.2 46.5-13.2 15.7-29.4 24.4-43.6 25.5s-26.5-4.8-33.7-19.3c-4.7-11.1-2.4-23.1 1.1-36.3 3.7-14.2 9.2-28.8 9.9-40.6.8-15.2 1.7-28.5 4.2-38.7 2.6-10.3 6.6-17.2 13.7-21.1.3-.2.7-.3 1-.5.8 13.2 7.3 26.6 18.8 29.5 12.6 3.3 30.7-7.5 38.4-16.3 9-.3 15.7-.9 22.6 5.1 9.9 8.5 7.1 30.3 17.1 41.6 10.6 11.6 14 19.5 13.7 24.6zM173.3 148.7c2 1.9 4.7 4.5 8 7.1 6.6 5.2 15.8 10.6 27.3 10.6 11.6 0 22.5-5.9 31.8-10.8 4.9-2.6 10.9-7 14.8-10.4s5.9-6.3 3.1-6.6-2.6 2.6-6 5.1c-4.4 3.2-9.7 7.4-13.9 9.8-7.4 4.2-19.5 10.2-29.9 10.2s-18.7-4.8-24.9-9.7c-3.1-2.5-5.7-5-7.7-6.9-1.5-1.4-1.9-4.6-4.3-4.9-1.4-.1-1.8 3.7 1.7 6.5z"></path></svg><code>Linux</code> (‚û°Ô∏è see <a href="https://happygitwithr.com/ssh-keys">üåê <em>chapter 10</em></a>)</li>
</ul>
</li>
<li>Then run <code><a href="https://usethis.r-lib.org/reference/use_github.html">usethis::use_github()</a></code> into the <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> console and follow the instructions.</li>
<li>Add a <code>README.Rmd</code> file to your package in order to have a nice home page on <em>GitHub</em>:
<ul>
<li>3a. In <em>RStudio</em>, run the command <code><a href="https://usethis.r-lib.org/reference/use_readme_rmd.html">usethis::use_readme_rmd()</a></code>
</li>
<li>3b. using the ‚Äú<em>Diff</em>‚Äù tool in the ‚Äú<em>Git</em>‚Äù tab of <em>RStudio</em>, review the changes made by the previous command</li>
<li>3c. edit the created <code>README.Rmd</code> file, then create the corresponding <code>README.md</code> file by running <code>knitr</code> (click on the wool ball ‚Äú<em>Knit</em>‚Äù at the top left in <em>RStudio</em>), before making a 3<sup>rd</sup> commit containing these changes</li>
<li>3d. At this point, if you visit your directory page on <em>GitHub</em>, your 3<sup>rd</sup> commit does not appear for the moment. You have to synchronize the online <em>GitHub</em> directory with your local folder. To do this, you have to click on ‚Äú<em>Push</em>‚Äù from the ‚ÄúGit‚Äù tab. Now, the changes of this 3<sup>rd</sup> commit should be visible online on <em>GitHub.</em>
</li>
</ul>
</li>
</ol>
</blockquote>
</div>
</div>
<div id="collaborative-code-production" class="section level2" number="2.4">
<h2>
<span class="header-section-number">2.4</span> Collaborative code production<a class="anchor" aria-label="anchor" href="#collaborative-code-production"><i class="fas fa-link"></i></a>
</h2>
<div class="float">
<img src="endeavR_files/github_friends.png" style="width:100.0%" alt="Artwork CC-BY Allison Horst"><div class="figcaption">Artwork CC-BY Allison Horst</div>
</div>
<p><code>git</code> and GitHub are particularly useful and efficient when several people collaborate to develop code together. Indeed, everyone can <em>pull</em> and <em>push</em> successive changes to the code, simultaneously, while endusing to always be working on the latest version of the code. We will see different concepts useful in the case of such a collaborative work.</p>
<blockquote>
<p>üëâ <strong><em>Your turn !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>By pairing-up with another participant, you will each add your new buddy as a ‚Äúcollaborator‚Äù to your GitHub directory from the <strong>‚ÄúSettings‚Äù tab on GitHub</strong>.</p></li>
<li><p>A few moments later, the added collaborator receives an email inviting him to accept the addition (check your spam folder). Click on the link and accept.</p></li>
<li><p>In <em>RStudio</em>, create a new package with the <code><a href="https://usethis.r-lib.org/reference/create_from_github.html">usethis::create_from_github()</a></code> function using the https or ssh link of your buddy‚Äôs project.</p></li>
</ol>
</blockquote>
<div id="branches" class="section level3" number="2.4.1">
<h3>
<span class="header-section-number">2.4.1</span> <em>Branches</em><a class="anchor" aria-label="anchor" href="#branches"><i class="fas fa-link"></i></a>
</h3>
<p>A useful features of <code>git</code> is <em>branches</em>. This allows you to make important changes in the changes in the code without disrupting the current operation. It is particularly useful to explore a development path that you don‚Äôt know if it will be successful in the end.</p>
<p>By the way, you have already been using branches since the beginning of this part. Indeed, the default branch is called ‚Äú<em>main</em>‚Äù (or sometimes ‚Äú<em>master</em>‚Äù).</p>
<p>Thanks to this system of branches, we obtain a tree of the different <em>commits</em> over time (where the nodes correspond to the separation of the branches).</p>
</div>
<div id="merge" class="section level3" number="2.4.2">
<h3>
<span class="header-section-number">2.4.2</span> <em>Merge</em><a class="anchor" aria-label="anchor" href="#merge"><i class="fas fa-link"></i></a>
</h3>
<p>A so-called ‚Äú<em>pull</em>‚Äù can be decomposed into 2 actions made by <code>git</code>:</p>
<ol style="list-style-type: decimal">
<li><p>first a <em>fetch</em>, which corresponds to downloading the online code</p></li>
<li><p>immediately followed by a <em>merge</em>, which merges the local version with the downloaded changes.</p></li>
</ol>
<p>After conducting experimental development in one branch one may want to <em>merge</em> these changes into the ‚Äúmaster‚Äù branch for example, once the experiment has proved successful.</p>
<p>If the changes concern separate parts of the code, then <em>merging</em> can be done without any problem. On the other hand, if the two versions to be <em>merged</em> both contain changes which concern the <strong>same lines of code</strong> since their last <strong>common</strong> <em>commit</em> , then we will encounter one (or more) <strong>conflicts</strong>, which we will have to be manually resolved.</p>
</div>
<div id="conflicts" class="section level3" number="2.4.3">
<h3>
<span class="header-section-number">2.4.3</span> Conflicts<a class="anchor" aria-label="anchor" href="#conflicts"><i class="fas fa-link"></i></a>
</h3>
<p>Let‚Äôs take the following example: the developer <span class="math inline">\(D_1\)</span> and the developer <span class="math inline">\(D_2\)</span> have both <em>pulled</em> the version v0.1 of the code at time <span class="math inline">\(t\)</span> on their respective machines. They each work independently to make changes to the code. When <em>pushing</em> his/her changes, developer <span class="math inline">\(D_2\)</span> receives an error message:</p>
<p><code>"Sync Error.</code><br><code>Please resolve all conflicted files, commit, then try syncing again."</code></p>
<p>Each file that is a source of conflicts has then been automatically edited with:</p>
<div class="sourceCode" id="cb8"><pre class="sourceCode sh"><code class="sourceCode bash"><span id="cb8-1"><a href="version-control-with-git-and-github.html#cb8-1" tabindex="-1"></a><span class="op">&lt;&lt;&lt;&lt;&lt;&lt;&lt;</span> HEAD</span>
<span id="cb8-2"><a href="version-control-with-git-and-github.html#cb8-2" tabindex="-1"></a><span class="bu">local</span> <span class="va">code</span></span>
<span id="cb8-3"><a href="version-control-with-git-and-github.html#cb8-3" tabindex="-1"></a><span class="ex">=======</span></span>
<span id="cb8-4"><a href="version-control-with-git-and-github.html#cb8-4" tabindex="-1"></a><span class="ex">online</span> code</span>
<span id="cb8-5"><a href="version-control-with-git-and-github.html#cb8-5" tabindex="-1"></a><span class="op">&gt;&gt;&gt;&gt;&gt;&gt;&gt;</span> remote</span></code></pre></div>
<p>In order to solve the conflict, you have to manually and carefully edit each file one by one, choosing whether to keep the local or the online version of the code, before you can <em>commit</em> again, and finally successfully <em>push</em> your changes online.</p>
<blockquote>
<p>üëâ <strong><em>Your turn !</em></strong></p>
<ol style="list-style-type: decimal">
<li>Edit the <code>README.Rmd</code> file of your paired buddy, then <em>commit</em> your change, and finally <em>push</em> them.</li>
<li>Once your buddy has modified your own <code>README.Rmd</code> modify the file on the same line (make sure by discussing it together), <strong>WITHOUT</strong> <em>pulling</em> your buddy‚Äôs changes first! <em>Commit</em> and try to <em>push</em> these changes.</li>
<li>Resolve the conflict.</li>
</ol>
</blockquote>
<p><strong>NB:</strong> In real life you want to avoid this situation and always <em>pull</em> before <em>pushing</em>, here we purposely do the opposite for the sake of providing an example and demystifying conflicts.</p>
</div>
<div id="fork" class="section level3" number="2.4.4">
<h3>
<span class="header-section-number">2.4.4</span> <em>Fork</em><a class="anchor" aria-label="anchor" href="#fork"><i class="fas fa-link"></i></a>
</h3>
<p>A <em>fork</em> allows you to create a copy of your own from an available code repository. Thus the original code will not be impacted by your changes. This is like creating a branch, and severing it from the tree, so you can assume ownership of it. It could also have been called a ‚Äúcutting‚Äù to continue the metaphor‚Ä¶</p>
<p>This action is mainly useful for <em>pull requests</em> (see next).</p>
</div>
<div id="pull-request" class="section level3" number="2.4.5">
<h3>
<span class="header-section-number">2.4.5</span> <em>Pull request</em><a class="anchor" aria-label="anchor" href="#pull-request"><i class="fas fa-link"></i></a>
</h3>
<p><em>Pull requests</em> are the easiest way to propose changes in a code project which you are not a contributor of. GitHub provides a graphical interface that makes this easy to do so.</p>
<blockquote>
<p>üëâ <strong><em>Your turn !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>Modify the <code>README.Rmd</code> of your neighbor who is <strong>NOT</strong> your paired-buddy after <em>forking</em> his package.</p></li>
<li><p>Propose your change in the form of a <em>pull request</em> from their GitHub repository webpage (‚ÄúPull request‚Äùs tab).</p></li>
<li><p>Accept your own neighbor <em>pull request</em> on your repository GitHub website, and then <em>merge</em> it.</p></li>
</ol>
</blockquote>
</div>
<div id="issues" class="section level3" number="2.4.6">
<h3>
<span class="header-section-number">2.4.6</span> <em>Issues</em><a class="anchor" aria-label="anchor" href="#issues"><i class="fas fa-link"></i></a>
</h3>
<p>For any GitHub repository, you can post a comment, in the form of an <em>issue</em>, to alert the developers about a possible bug (providing a minimally reproducible example of the bug), or a question about the use of the package, or ask for an additional feature‚Ä¶</p>
<p>Ideally, you should propose a <em>pull request</em> that solves your <em>issue</em> when you can (i.e.¬†when you have both the ability and time).</p>
<blockquote>
<p>üëâ <strong><em>Your turn !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>Use <code><a href="https://usethis.r-lib.org/reference/use_github_links.html">usethis::use_github_links()</a></code> to add the following 2 lines to your package <code>DESCRIPTION</code> file if there are not already present (they are also added when executing <code><a href="https://usethis.r-lib.org/reference/use_github.html">usethis::use_github()</a></code>):<br><code>URL: http://github.com/*username*/mypkg</code><br><code>BugReports: http://github.com/*username*/mypkg/issues</code></p></li>
<li><p>View the new changes, then <em>commit</em> them.</p></li>
<li><p>Create an <em>issue</em> on your paired buddy‚Äôs project</p></li>
</ol>
</blockquote>
</div>
</div>
<div id="continuous-integration-ci" class="section level2" number="2.5">
<h2>
<span class="header-section-number">2.5</span> Continuous Integration (CI)<a class="anchor" aria-label="anchor" href="#continuous-integration-ci"><i class="fas fa-link"></i></a>
</h2>
<p>With each change, with each <em>commit</em>, there is the possibility to introduce 1 (or more) bugs that will prevent the package from passing the <em>CRAN</em> <code>R CMD CHECK</code>. If you accumulate too many of these bugs, at the time of submitting the new version to <em>CRAN</em> there could be many corrections to make. It is even more frustrating if the package passed the <code>R CMD CHECK</code> before‚Ä¶</p>
<p>Continuous integration services allow you to <em>check</em> and test your package <strong>automatically</strong> after each <em>commit</em> ! In case of failure, you will receive an email informing you. A number of these services offer a (limited) free package for open-source projects.</p>
<p>Another reason to use continuous integration is that it allows you to test your package on different infrastructures than yours (e.g.¬†Windows, Ubuntu, Mac OS) and for different versions of <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> (<em>current</em>, <em>devel</em>‚Ä¶)</p>
<div id="github-actions" class="section level3" number="2.5.1">
<h3>
<span class="header-section-number">2.5.1</span> <em>GitHub Actions</em><a class="anchor" aria-label="anchor" href="#github-actions"><i class="fas fa-link"></i></a>
</h3>
<p><em>GitHub Actions</em> let you launch ‚Äúactions‚Äù automatically, every time you push to GitHub. The <code>usethis::use_github_action("check-standard")</code> command allows you to initialize <em>Github Actions</em> to add the <code>R CMD CHECK</code> action to your package.</p>
<blockquote>
<p>üëâ <strong><em>Your turn !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>Run the command <code>usethis::use_github_action("check-standard")</code>, then <em>commit</em> and <em>push</em> the changes. See what happens on the GitHub webpage under the ‚ÄúActions‚Äù tab.</p></li>
<li><p>Add a badge to your README.Rmd (do not forget to <code>knit</code> it) with the code obtained in the console and <em>commit</em> (and <em>push</em>) those changes.</p></li>
</ol>
</blockquote>
<p>Have a look at the following webpage which informs about the different <em>GitHub Actions</em> available for <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> packages: <a href="https://github.com/r-lib/actions/">https://github.com/r-lib/actions/</a></p>
</div>
</div>
<div id="build-and-deploy-a-companion-website-for-ones-package" class="section level2" number="2.6">
<h2>
<span class="header-section-number">2.6</span> Build and deploy a companion website for one‚Äôs package<a class="anchor" aria-label="anchor" href="#build-and-deploy-a-companion-website-for-ones-package"><i class="fas fa-link"></i></a>
</h2>
<p><code>pkgdown</code> is an <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> package that automatically generate a nice website gathering the documentation about your package (including <em>Vignettes</em>).</p>
<blockquote>
<p><strong><em>üëâ Your turn !</em></strong></p>
<ol style="list-style-type: decimal">
<li><p>Run <code><a href="https://usethis.r-lib.org/reference/use_pkgdown.html">usethis::use_pkgdown_github_pages()</a></code> into the <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> console.</p></li>
<li><p><em>Commit</em> &amp; <em>push</em> the changes. Go to your <em>GitHub</em> <em>Actions</em> tab and see what is new.</p></li>
</ol>
</blockquote>
<blockquote>
<p><strong><em>üëâ Your turn !</em></strong></p>
<p>Examine the different changes to <code>DESCRIPTION</code> following the various <code>usethis::use_...</code> run previously.</p>
<p>If needed, modify the <em>URL</em> field from the <code>DESCRIPTION</code> file.</p>
</blockquote>
<div class="float">
<img src="endeavR_files/usethis.png" style="width:100.0%" alt="Artwork CC-BY Allison Horst"><div class="figcaption">Artwork CC-BY Allison Horst</div>
</div>
</div>
<div id="additional-references" class="section level2" number="2.7">
<h2>
<span class="header-section-number">2.7</span> Additional References<a class="anchor" aria-label="anchor" href="#additional-references"><i class="fas fa-link"></i></a>
</h2>
<ul>
<li><p><a href="https://happygitwithr.com/"><em>Happy Git With R</em></a> by Jennifer Bryan.</p></li>
<li><p>Jennifer Bryan (2018). Excuse Me, Do You Have a Moment to Talk about Version Control? <em>The American Statistician</em> 72 (1):20‚Äì27.<br><a href="https://doi.org/10.1080/00031305.2017.1399928">DOI: 10.1080/00031305.2017.1399928</a></p></li>
</ul>
</div>
<div id="appendix-2.1-r-hub" class="section level2 unnumbered">
<h2>Appendix 2.1: R-hub<a class="anchor" aria-label="anchor" href="#appendix-2.1-r-hub"><i class="fas fa-link"></i></a>
</h2>
<p>The <em>R consortium</em> provides the <a href="https://www.r-consortium.org/blog/2016/06/06/first-public-version-of-the-r-hub-builder">R-hub builder</a>, and has the ambition to one day provide a continuous integration service especially dedicated to <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> packages.</p>
<p>It has the advantage to use (<em>almost</em>) the <strong>exact same infrastructure as the <code>CRAN</code></strong> make the <em>check</em> of your package foolproof. You can use it through the <code>rhub</code> package, by following the steps highlighted <a href="https://r-hub.github.io/rhub/index.html">here üåê</a>.</p>
</div>
<div id="appendix-2.2-code-coverage" class="section level2 unnumbered">
<h2>Appendix 2.2: Code coverage<a class="anchor" aria-label="anchor" href="#appendix-2.2-code-coverage"><i class="fas fa-link"></i></a>
</h2>
<p>The <code>covr</code> package proposes a solution to measure the coverage of unit tests associated to a package. The test coverage determines the proportion of the source code that is actually used during the execution of unit tests. Measuring the coverage of the code reinforces the reliability of a code and gives more confidence to its potential users.</p>
<blockquote>
<p>üëâ <strong><em>Your turn !</em></strong></p>
<ol style="list-style-type: decimal">
<li>Run the command <code>use_github_action("test-coverage")</code> to trigger <em>GitHub Actions</em> to compute the coverage of your package.</li>
<li>
<em>Commit</em> and <em>push</em> these changes.</li>
</ol>
</blockquote>
<p>For more information feel free to look at the <a href=""><code>covr</code> package</a>. To be able to display your coverage rate on your README, run the command <code><a href="https://usethis.r-lib.org/reference/use_coverage.html">usethis::use_coverage()</a></code> in the <svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg> and add a nice badge with the code you got in the R console.<br><strong>NB:</strong> for this new badge to display properly, you need to log into the <a href="https://app.codecov.io">codecov.io</a> website and follow the instructions for enabling your repository to upload its coverage results through <em>GitHub Actions</em> (requires some advanced interactions with <em>GitHub Actions</em>).</p>

</div>
</div>
  <div class="chapter-nav">
<div class="prev"><a href="building-an-r-package.html"><span class="header-section-number">1</span> Building an R package</a></div>
<div class="next"><a href="measuring-and-comparing-execution-times.html"><span class="header-section-number">3</span> Measuring and comparing execution times</a></div>
</div></main><div class="col-md-3 col-lg-2 d-none d-md-block sidebar sidebar-chapter">
    <nav id="toc" data-toggle="toc" aria-label="On this page"><h2>On this page</h2>
      <ul class="nav navbar-nav">
<li><a class="nav-link" href="#version-control-with-git-and-github"><span class="header-section-number">2</span> Version control with git and GitHub</a></li>
<li>
<a class="nav-link" href="#principles-of-version-control"><span class="header-section-number">2.1</span> Principles of version control</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#git"><span class="header-section-number">2.1.1</span> git</a></li>
<li><a class="nav-link" href="#subversion"><span class="header-section-number">2.1.2</span> subversion</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#use-git-locally-within-rstudio"><span class="header-section-number">2.2</span> Use git locally within RStudio</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#good-commit-practices"><span class="header-section-number">2.2.1</span> Good commit practices</a></li></ul>
</li>
<li>
<a class="nav-link" href="#github"><span class="header-section-number">2.3</span> GitHub</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#upload-ones-package-onto-github"><span class="header-section-number">2.3.1</span> Upload one‚Äôs package  onto GitHub</a></li></ul>
</li>
<li>
<a class="nav-link" href="#collaborative-code-production"><span class="header-section-number">2.4</span> Collaborative code production</a><ul class="nav navbar-nav">
<li><a class="nav-link" href="#branches"><span class="header-section-number">2.4.1</span> Branches</a></li>
<li><a class="nav-link" href="#merge"><span class="header-section-number">2.4.2</span> Merge</a></li>
<li><a class="nav-link" href="#conflicts"><span class="header-section-number">2.4.3</span> Conflicts</a></li>
<li><a class="nav-link" href="#fork"><span class="header-section-number">2.4.4</span> Fork</a></li>
<li><a class="nav-link" href="#pull-request"><span class="header-section-number">2.4.5</span> Pull request</a></li>
<li><a class="nav-link" href="#issues"><span class="header-section-number">2.4.6</span> Issues</a></li>
</ul>
</li>
<li>
<a class="nav-link" href="#continuous-integration-ci"><span class="header-section-number">2.5</span> Continuous Integration (CI)</a><ul class="nav navbar-nav"><li><a class="nav-link" href="#github-actions"><span class="header-section-number">2.5.1</span> GitHub Actions</a></li></ul>
</li>
<li><a class="nav-link" href="#build-and-deploy-a-companion-website-for-ones-package"><span class="header-section-number">2.6</span> Build and deploy a companion website for one‚Äôs package</a></li>
<li><a class="nav-link" href="#additional-references"><span class="header-section-number">2.7</span> Additional References</a></li>
<li><a class="nav-link" href="#appendix-2.1-r-hub">Appendix 2.1: R-hub</a></li>
<li><a class="nav-link" href="#appendix-2.2-code-coverage">Appendix 2.2: Code coverage</a></li>
</ul>

      <div class="book-extra">
        <ul class="list-unstyled">
          
        </ul>
</div>
    </nav>
</div>

</div>
</div> <!-- .container -->

<footer class="bg-primary text-light mt-5"><div class="container"><div class="row">

  <div class="col-12 col-md-6 mt-3">
    <p>"<strong>endeav<svg aria-hidden="true" role="img" viewbox="0 0 581 512" style="height:1em;width:1.13em;vertical-align:-0.125em;margin-left:auto;margin-right:auto;font-size:inherit;fill:currentColor;overflow:visible;position:relative;"><path d="M581 226.6C581 119.1 450.9 32 290.5 32S0 119.1 0 226.6C0 322.4 103.3 402 239.4 418.1V480h99.1v-61.5c24.3-2.7 47.6-7.4 69.4-13.9L448 480h112l-67.4-113.7c54.5-35.4 88.4-84.9 88.4-139.7zm-466.8 14.5c0-73.5 98.9-133 220.8-133s211.9 40.7 211.9 133c0 50.1-26.5 85-70.3 106.4-2.4-1.6-4.7-2.9-6.4-3.7-10.2-5.2-27.8-10.5-27.8-10.5s86.6-6.4 86.6-92.7-90.6-87.9-90.6-87.9h-199V361c-74.1-21.5-125.2-67.1-125.2-119.9zm225.1 38.3v-55.6c57.8 0 87.8-6.8 87.8 27.3 0 36.5-38.2 28.3-87.8 28.3zm-.9 72.5H365c10.8 0 18.9 11.7 24 19.2-16.1 1.9-33 2.8-50.6 2.9v-22.1z"></path></svg></strong>: <em>a course on code efficiency and software development with R</em>" was written by <strong><em>Robin Genuer</em></strong> <a href="https://robin.genuer.fr/">üåê</a> &amp; <strong><em>Boris Hejblum</em></strong> <a href="https://borishejblum.science/">üåê</a>. It was last built on 2025-11-14.</p>
  </div>

  <div class="col-12 col-md-6 mt-3">
    <p>This book was built by the <a class="text-light" href="https://bookdown.org">bookdown</a> R package.</p>
  </div>

</div></div>
</footer><!-- dynamically load mathjax for compatibility with self-contained --><script>
  (function () {
    var script = document.createElement("script");
    script.type = "text/javascript";
    var src = "true";
    if (src === "" || src === "true") src = "https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.9/latest.js?config=TeX-MML-AM_CHTML";
    if (location.protocol !== "file:")
      if (/^https?:/.test(src))
        src = src.replace(/^https?:/, '');
    script.src = src;
    document.getElementsByTagName("head")[0].appendChild(script);
  })();
</script><script type="text/x-mathjax-config">const popovers = document.querySelectorAll('a.footnote-ref[data-toggle="popover"]');
for (let popover of popovers) {
  const div = document.createElement('div');
  div.setAttribute('style', 'position: absolute; top: 0, left:0; width:0, height:0, overflow: hidden; visibility: hidden;');
  div.innerHTML = popover.getAttribute('data-content');

  var has_math = div.querySelector("span.math");
  if (has_math) {
    document.body.appendChild(div);
    MathJax.Hub.Queue(["Typeset", MathJax.Hub, div]);
    MathJax.Hub.Queue(function() {
      popover.setAttribute('data-content', div.innerHTML);
      document.body.removeChild(div);
    })
  }
}
</script>
</body>
</html>
